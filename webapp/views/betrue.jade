extends layout

block head
  title= 'BeTrue'
  link(rel='stylesheet', href='/css/betrue.css')

block content
  #api(style="display:none;", server= '#{server}')
  #root
    .container.upper-margin
      img(src='/img/betrue-logo.svg' height=40)
    hr
    .container
      .row.upper-margin
        .col-lg-12
      for article in articles
        .row
          .col-lg-12
            h3= article.name
            .node-digest= article.digest
            .footnote
              #footnote= 'by ' + article.frame.split('@')[1] + ', ' + new Date(article.created).toDateString()
  script.
    (function (d) {
      var config = {
                kitId: 'gzh8ndx',
                scriptTimeout: 3000,
                async: true
              },
              h = d.documentElement, t = setTimeout(function () {
                h.className = h.className.replace(/\bwf-loading\b/g, "") + " wf-inactive";
              }, config.scriptTimeout), tk = d.createElement("script"), f = false, s = d.getElementsByTagName("script")[0], a;
      h.className += " wf-loading";
      tk.src = 'https://use.typekit.net/' + config.kitId + '.js';
      tk.async = true;
      tk.onload = tk.onreadystatechange = function () {
        a = this.readyState;
        if (f || a && a != "complete" && a != "loaded")return;
        f = true;
        clearTimeout(t);
        try {
          Typekit.load(config)
        } catch (e) {
        }
      };
      s.parentNode.insertBefore(tk, s)
    })(document);
